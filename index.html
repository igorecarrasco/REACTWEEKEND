<html>
  <head>
    <script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link href='https://fonts.googleapis.com/css?family=Kanit:800' rel='stylesheet' type='text/css'>
  </head>
  <body>
  <div class=wrapper>
    <div class=header><img src="images/reactheader.png"></div>
    <div id = "available_rooms">
      <ul id = "rooms_list">
        
      </ul>
    </div>
  </div>	
  	<script>
  		
  		var dataRef = new Firebase('https://boiling-heat-8030.firebaseio.com/REACT');
  		var roomRef = dataRef.child("rooms");
      
      function createRoomList(){
        var allRooms = $("#rooms_list");
        roomRef.on("child_added", function(snapshot){
          var new_room = snapshot.val();
          var room_li = '<li class="room_link"><a href=REACT_Room.html onclick="setCurrentRoom(\''+new_room.room_name+'\')" >' + '<img width=500px src='+new_room.image+' >' + '<span class=roomtitle>' +new_room.room_name+ '</span></a></li>';
          console.log(room_li)
          allRooms.append(room_li);
        })
          //<li><a href="#" onclick="joinRoom(\''+rooms[i]+'\')">' + rooms[i] + '</a></li>'

      }
  		createRoomList();

      function setCurrentRoom(current_room){
        localStorage.setItem("currentRoom", current_room);
      }
      /*roomRef.on("child_added", function(snapshot) {
        console.log("room: ");
        console.log(snapshot.val());
      }, function (errorObject) {
        console.log("The read failed: " + errorObject.code);
      });*/




  	</script>
  </body>
</html>